<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>{{ title }}</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', serif;
            font-size: 16px;
        }
    </style>
</head>

<body>
    <center>
        <h3>{{ title }}</h3>

        <canvas id="diskChart" width="1200" height="600"></canvas>

        <script>

            var diskChart = document.getElementById("diskChart");

            Chart.defaults.global.defaultFontFamily = "sans-serif";
            Chart.defaults.global.defaultFontSize = 18;

            // Disk Chart Data
            // --------------------------------------------------
            var diskChartData = {
                labels: [
                    {% for item in labels %}
                        "{{ item }}",
                    {% endfor %}
                ],
                datasets: [
                    {
                        label: "{{ dataset_name }}",
                        backgroundColor: "rgba(151, 187, 205, 0.2)",
                        borderColor: "rgba(151, 187, 205, 1)",
                        
                        pointBackgroundColor: "rgba(151, 187, 205, 1)",
                        pointBorderColor: "#fff",
                        
                        pointHoverBackgroundColor: "rgba(151, 187, 205, 1)",
                        pointHoverBorderColor: "#fff",

                        borderWidth: 5,
                        data: [
                            {% for item in values %}
                                {{ item }},
                            {% endfor %}
                        ]
                    }
                ]
            };

            var maxChartValue = {{ max }}
            var steps = 10

            // Disk Chart Options
            // --------------------------------------------------
            var diskChartOptions = {
                responsive: false,
                title: {
                    display: true,
                    text: 'Disk Space Line Chart'
                },
                tooltips: {
                    mode: 'index',
                    intersect: false,
                },
                hover: {
                    mode: 'nearest',
                    intersect: true
                },
                scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Total Size (GB)'
                        }
                    }],
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Current Data Size (GB)'
                        },
                        ticks: {
                            min: 0,
                            max: maxChartValue,
                            stepSize: Math.ceil( max / steps ),
                            steps: steps
                        }
                    }]
                }
            };

            var lineChart = new Chart(diskChart, {
                type: 'line',
                data: diskChartData,
                options: diskChartOptions
            });

        </script>
    </center>
</body>
</html>